@model C500Hemis.Models.TbChuongTrinhDaoTao

@{
    ViewData["Title"] = "CẬP NHẬT CTĐT";
}

@section Styles {
    <style>

        /* Căn chỉnh khối chứa form bên trong */
        .web-form {
            display: flex; /* Các phần tử bên trong nằm trên một trục ngang từ trái qua phải */
            justify-content: center; /* Căn giữa các phần tử trên trục */
        }

        /* Định dạng cho khối form nhập thông tin */
        form {
            width: 60%;
            min-width: 600px;
        }

        /* Định dạng ô tiêu đề đầu tiên */
        .tieude{
            border-top: 15px solid #009879; /* Trùng màu viền bảng Index */
            margin-top: 20px;
            margin-bottom: 20px;
            background-color: #edf7f1;
            padding: 30px 30px 50px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);
        }
                h1 {
                    font-size: 35px;
                    font-weight: bold;
                    margin-bottom: 10px;
                    text-align: center;
                }
                h4 {
                    font-size: 18px;
                    font-style: italic;
                    margin-bottom: 10px;
                }

        /* Định dạng cho các ô nhập thông tin chính */
        .form-group {
            margin-top: 20px;
            margin-bottom: 20px;
            background-color: #edf7f1; /* Xanh lá nhạt */
            padding: 30px 30px 50px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);
        }
                .form-group:hover {
                    border: 3px solid #34a853; /* Xanh lá */
                }
                label {
                    font-size: 1.2em;
                    font-weight: bold;
                    display: block;
                    margin-bottom: 20px;
                }

        /* Tùy chỉnh hộp input và select */
        input.form-control, select.form-control {
            border: none; /* xóa viền mặc định */
            border-bottom: 4px solid #dfe1e5; /* đặt viền dưới xám nhạt trước khi hover hoặc focus */
            border-radius: 5px 5px 0px 0px;
            background-color: transparent; /* nền trong suốt */
            font-size: 16px;
            padding: 10px;
            transition: border-color 0.7s;
        }
                /* Hiệu ứng khi focus vào input và select */
                input.form-control:focus, select.form-control:focus {
                    border-color: #34a853; /* VIền dưới có màu xanh lá */
                    outline: none;
                    box-shadow: none;
                }

        /* Phần cuối: khối chứa 2 button */
        .combo-button {
            display: flex; /* Đặt 2 button trên 1 trục ngang từ trái sang phải */
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
        }

                /* Định dạng button "xác nhận đăng kí" */
                .button-submit {
                    background-color: #edf7f1; /* Màu xanh lá nhạt */
                    border-radius: 10px;
                    font-size: 20px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: background-color color 0.3s;
                    border: none;
                    width: 50%;
                    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);
                    padding: 15px;
                    margin-right: 10px;
                    }
                        .button-submit:hover {
                           background-color: #34a853; /* Màu xanh đậm hơn khi hover */
                           color: white;
                           font-style: italic;
                        }

                /* Định dang button "quay lại danh sách" */
                .button-back {
                    background-color: #edf7f1; /* Màu xanh lá cây nhạt */
                    font-size: 20px;
                    font-weight: bold;
                    color: black;
                    border-radius: 10px;
                    text-decoration: none;
                    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);
                    transition: background-color 0.3s ease, transform 0.3s ease;
                    text-align: center;
                    width: 50%;
                    padding: 15px;
                }
                        .button-back:hover {
                            background-color: #009879; /* màu xanh đậm, trùng màu cột tiêu đề */
                            color: white;
                            font-style: italic;
                        }

        /* Text-danger (cảnh báo lỗi) */
        .text-danger {
            color: #d93025;
            font-size: 12px;
        }

    </style>
}

<div class="row">
    <div class="web-form">
        <form asp-action="Edit">

            <!-- Phần tiêu đề -->
            <div class="tieude">
                <h1>CẬP NHẬT CHƯƠNG TRÌNH ĐÀO TẠO</h1>
                <hr />
                @ViewBag.IdNganhDaoTao
                <hr />
                <h4>Lưu ý: Nhật dữ liệu chính xác để cập nhật chương trình đào tạo hiện tại, nên nhập đầy đủ thông tin, không khuyến khích bỏ trống !!!</h4>
                <hr />
            </div>

            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="IdChuongTrinhDaoTao" />

            <!-- Mã chương trình đào tạo -->
            <div class="form-group">
                <label asp-for="MaChuongTrinhDaoTao" class="control-label"></label>
                <input asp-for="MaChuongTrinhDaoTao" class="form-control" placeholder="Ví dụ: K48.7340301" />
                <span asp-validation-for="MaChuongTrinhDaoTao" class="text-danger"></span>
            </div>

            <!-- Ngành đào tạo -->
            <div class="form-group">
                <label asp-for="IdNganhDaoTao" class="control-label"></label>
                <select asp-for="IdNganhDaoTao" class="form-control" asp-items="ViewBag.IdNganhDaoTao"></select>
                <span asp-validation-for="IdNganhDaoTao" class="text-danger"></span>
            </div>

            <!-- Tên chương trình đào tạo -->
            <div class="form-group">
                <label asp-for="TenChuongTrinh" class="control-label"></label>
                <input asp-for="TenChuongTrinh" class="form-control" placeholder="Ví dụ: Kế toán" />
                <span asp-validation-for="TenChuongTrinh" class="text-danger"></span>
            </div>

            <!-- Tên chương trình bằng tiếng Anh -->
            <div class="form-group">
                <label asp-for="TenChuongTrinhBangTiengAnh" class="control-label"></label>
                <input asp-for="TenChuongTrinhBangTiengAnh" class="form-control" />
                <span asp-validation-for="TenChuongTrinhBangTiengAnh" class="text-danger"></span>
            </div>

            <!-- Năm bắt đầu tuyển sinh -->
            <div class="form-group">
                <label asp-for="NamBatDauTuyenSinh" class="control-label"></label>
                <input asp-for="NamBatDauTuyenSinh" class="form-control" />
                <span asp-validation-for="NamBatDauTuyenSinh" class="text-danger"></span>
            </div>

            <!-- Tên cơ sở đào tạo nước ngoài -->
            <div class="form-group">
                <label asp-for="TenCoSoDaoTaoNuocNgoai" class="control-label"></label>
                <input asp-for="TenCoSoDaoTaoNuocNgoai" class="form-control" />
                <span asp-validation-for="TenCoSoDaoTaoNuocNgoai" class="text-danger"></span>
            </div>

            <!-- Hình thức đào tạo -->
            <div class="form-group">
                <label asp-for="IdLoaiChuongTrinhDaoTao" class="control-label"></label>
                <select asp-for="IdLoaiChuongTrinhDaoTao" class="form-control" asp-items="ViewBag.IdLoaiChuongTrinhDaoTao"></select>
                <span asp-validation-for="IdLoaiChuongTrinhDaoTao" class="text-danger"></span>
            </div>

            <!-- Loại chương trình liên kết đào tạo -->
            <div class="form-group">
                <label asp-for="IdLoaiChuongTrinhLienKetDaoTao" class="control-label"></label>
                <select asp-for="IdLoaiChuongTrinhLienKetDaoTao" class="form-control" asp-items="ViewBag.IdLoaiChuongTrinhLienKetDaoTao"></select>
                <span asp-validation-for="IdLoaiChuongTrinhLienKetDaoTao" class="text-danger"></span>
            </div>

            <!-- Địa điểm đào tạo -->
            <div class="form-group">
                <label asp-for="DiaDiemDaoTao" class="control-label"></label>
                <input asp-for="DiaDiemDaoTao" class="form-control" />
                <span asp-validation-for="DiaDiemDaoTao" class="text-danger"></span>
            </div>

            <!-- Học chế đào tạo -->
            <div class="form-group">
                <label asp-for="IdHocCheDaoTao" class="control-label"></label>
                <select asp-for="IdHocCheDaoTao" class="form-control" asp-items="ViewBag.IdHocCheDaoTao"></select>
                <span asp-validation-for="IdHocCheDaoTao" class="text-danger"></span>
            </div>

            <!-- Quốc gia trụ sở chính -->
            <div class="form-group">
                <label asp-for="IdQuocGiaCuaTruSoChinh" class="control-label"></label>
                <select asp-for="IdQuocGiaCuaTruSoChinh" class="form-control" asp-items="ViewBag.IdQuocGiaCuaTruSoChinh"></select>
                <span asp-validation-for="IdQuocGiaCuaTruSoChinh" class="text-danger"></span>
            </div>

            <!-- Ngày ban hành chuẩn đầu ra -->
            <div class="form-group">
                <label asp-for="NgayBanHanhChuanDauRa" class="control-label"></label>
                <input asp-for="NgayBanHanhChuanDauRa" class="form-control" />
                <span asp-validation-for="NgayBanHanhChuanDauRa" class="text-danger"></span>
            </div>

            <!-- Trình độ đào tạo -->
            <div class="form-group">
                <label asp-for="IdTrinhDoDaoTao" class="control-label"></label>
                <select asp-for="IdTrinhDoDaoTao" class="form-control" asp-items="ViewBag.IdTrinhDoDaoTao"></select>
                <span asp-validation-for="IdTrinhDoDaoTao" class="text-danger"></span>
            </div>

            <!-- Thời gian đào tạo chuẩn -->
            <div class="form-group">
                <label asp-for="ThoiGianDaoTaoChuan" class="control-label"></label>
                <input asp-for="ThoiGianDaoTaoChuan" class="form-control" />
                <span asp-validation-for="ThoiGianDaoTaoChuan" class="text-danger"></span>
            </div>

            <!-- Chuẩn đầu ra -->
            <div class="form-group">
                <label asp-for="ChuanDauRa" class="control-label"></label>
                <input asp-for="ChuanDauRa" class="form-control" />
                <span asp-validation-for="ChuanDauRa" class="text-danger"></span>
            </div>

            <!-- Đơn vị cấp bằng -->
            <div class="form-group">
                <label asp-for="IdDonViCapBang" class="control-label"></label>
                <select asp-for="IdDonViCapBang" class="form-control" asp-items="ViewBag.IdDonViCapBang"></select>
                <span asp-validation-for="IdDonViCapBang" class="text-danger"></span>
            </div>

            <!-- Loại chứng chỉ được chấp thuận -->
            <div class="form-group">
                <label asp-for="LoaiChungChiDuocChapThuan" class="control-label"></label>
                <input asp-for="LoaiChungChiDuocChapThuan" class="form-control" />
                <span asp-validation-for="LoaiChungChiDuocChapThuan" class="text-danger"></span>
            </div>

            <!-- Đơn vị thực hiện chương trình đào tạo -->
            <div class="form-group">
                <label asp-for="DonViThucHienChuongTrinh" class="control-label"></label>
                <input asp-for="DonViThucHienChuongTrinh" class="form-control" />
                <span asp-validation-for="DonViThucHienChuongTrinh" class="text-danger"></span>
            </div>

            <!-- Trạng thái của chương trình đào tạo -->
            <div class="form-group">
                <label asp-for="IdTrangThaiCuaChuongTrinh" class="control-label"></label>
                <select asp-for="IdTrangThaiCuaChuongTrinh" class="form-control" asp-items="ViewBag.IdTrangThaiCuaChuongTrinh"></select>
                <span asp-validation-for="IdTrangThaiCuaChuongTrinh" class="text-danger"></span>
            </div>

            <!-- Chuẩn đầu ra về ngoại ngữ -->
            <div class="form-group">
                <label asp-for="ChuanDauRaVeNgoaiNgu" class="control-label"></label>
                <input asp-for="ChuanDauRaVeNgoaiNgu" class="form-control" />
                <span asp-validation-for="ChuanDauRaVeNgoaiNgu" class="text-danger"></span>
            </div>

            <!-- Chuẩn đầu ra về tin học -->
            <div class="form-group">
                <label asp-for="ChuanDauRaVeTinHoc" class="control-label"></label>
                <input asp-for="ChuanDauRaVeTinHoc" class="form-control" />
                <span asp-validation-for="ChuanDauRaVeTinHoc" class="text-danger"></span>
            </div>

            <!-- Học phí tại Việt Nam -->
            <div class="form-group">
                <label asp-for="HocPhiTaiVietNam" class="control-label"></label>
                <input asp-for="HocPhiTaiVietNam" class="form-control" />
                <span asp-validation-for="HocPhiTaiVietNam" class="text-danger"></span>
            </div>

            <!-- Học phí tại nước ngoài -->
            <div class="form-group">
                <label asp-for="HocPhiTaiNuocNgoai" class="control-label"></label>
                <input asp-for="HocPhiTaiNuocNgoai" class="form-control" />
                <span asp-validation-for="HocPhiTaiNuocNgoai" class="text-danger"></span>
            </div>

            <!-- Phần cuối trang, nhóm các button -->
            <div class="combo-button">
                <input type="submit" value="XÁC NHẬN CẬP NHẬT" class="button-submit" />

                <a class="button-back" asp-action="Index">QUAY LẠI DANH SÁCH</a>
            </div>
        </form>
    </div>
</div>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script>
        var select = document.querySelectorAll("select");
        var data = {};
        for (var i = 0; i < select.length; ++i) {
            select[i].hidden = true;
            let cr = {};
            let idlist = "datalist" + i.toString();
            let input = document.createElement("input");
            let datalist = document.createElement("datalist");
            let options = select[i].options;
            let validate = document.createElement("span");
            input.placeholder = "Nhập để tìm kiếm...";
            input.className = "form-control";
            input.setAttribute("list", idlist);
            input.setAttribute("selid", select[i].id);
            input.value = select[i].options[select[i].selectedIndex].text;
            input.addEventListener("change", function (e) {
                let selid = e.target.getAttribute("selid");
                let validate = document.getElementById("Validate_" + selid);
                if (typeof data[selid][e.target.value] !== 'undefined') {
                    document.getElementById(selid).selectedIndex = data[selid][e.target.value];
                    validate.innerHTML = "";
                } else {
                    validate.innerHTML = validate.getAttribute("msg");
                }
            });
            for (var j = 0; j < options.length; ++j) {
                cr[options[j].text] = j;
                let option = document.createElement("option");
                option.value = options[j].text;
                datalist.appendChild(option);
            }
            datalist.id = idlist;
            data[select[i].id] = cr;
            validate.className = "text-danger";
            validate.id = "Validate_" + select[i].id;
            validate.setAttribute("msg", "Không hợp lệ");
            select[i].after(input, datalist, validate);
        }
    </script>
}